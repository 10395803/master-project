% A script for testing various components of the finite element solver for
% two-dimensional Poisson.

clc
clear variables
clear variables -global
close all

%% Preliminar test: function vs handle function

x = randn(1e6,1);

tstart = tic;
for i = 1:1e6
    y = 1;
end
dt = toc(tstart);
fprintf('Direct function: %5.5f\n',dt)

%fun = @(t) foo2(t,2);
tstart = tic;
for i = 1:1e6
    y = foo3(x(i));
end
dt = toc(tstart);
fprintf('Handle function: %5.5f\n',dt)

tstart = tic;
for i = 1:1e6
    if isfloat(1)
        y = 1;
    end
end
dt = toc(tstart);
fprintf('%5.5f\n',dt)

%% Test buildMesh2d and plotMesh2d

%[mesh,model] = buildMesh2d('rectangle');
%[mesh,model] = buildMesh2d('rectangle', 'base',2, 'height',3);
%[mesh,model] = buildMesh2d('rectangle', 'base',2, 'height',3, 'angle',pi/4);
[mesh,opt] = buildMesh2d('rectangle', 'base',2, 'height',3, 'angle',-pi/4);

plotMesh2d(mesh)

%% Test first version of LinearPoisson2dFEP1

[mesh,u] = LinearPoisson2dFEP1('rectangle', 'base',2, 'height',3, 'angle',-pi/4);

%plotMesh2d(mesh)
